block content
    - var d = unescape(description) != 'null' ? unescape(description) : ''
    - var c = (crit == true) ? 'crit':'';
    - var f = (fail ==  true) ? 'fail':''; 
    - var n = (fail != true && crit != true) ? 'nor':'';
    - var g = (by.indexOf('(GM)') != -1) ? 'gm':''; 
    - var form = formula.replace(/\d+$/, "");
    - var r = (result.length <= 2) ? result : result.substring(0,2) + ' | ' + result.substring(2); 
    .container-fluid.attackspace
        .row.no-gutters.block
            .col-2.col-sm-1.col-lg-1.spacer
                .icon.spell
                .row
                    .col-12
            .col
                .text <span class='roller #{g}'>#{by}</span> attacks with <span class = 'attackname'>#{label}!</span>
        .row.no-gutters.attack
            .col-1
            .col.spelldescription 
                .text #{form} <span class='result #{c} #{f} #{n}'>#{r}</span>
                .spelldesription #{d}
        .row.no-gutters
            .col-1
            .col.spelldetails
                .row.no-gutters
                    .col.icon.time
                    .col.icon.target
                    .col.icon.duration
                    .col.icon.components
        .row.no-gutters
            .col-1
            .col.spelldetails
                .row.no-gutters
                    .col.spelldet #{castingtime}
                    .col.spelldet  #{target}
                    .col.spelldet  #{duration}
                    .col.spelldet  #{components}